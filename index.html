<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>عرض 5 شاشات + فيديوهات</title>
<style>
body {
    margin: 0; padding: 0;
    background: #111;
    display: grid;
    grid-template-columns: repeat(3,1fr);
    grid-auto-rows:50vh;
    gap:5px;
    height:100vh;
}
iframe, video { width:100%; height:100%; border:none; object-fit:cover; }
iframe:nth-child(1){grid-column:1;grid-row:1;}
iframe:nth-child(2){grid-column:2;grid-row:1;}
iframe:nth-child(3){grid-column:3;grid-row:1;}
video{grid-column:1;grid-row:2;}
iframe:nth-child(4){grid-column:2;grid-row:2;}
iframe:nth-child(5){grid-column:3;grid-row:2;}
</style>
</head>
<body>

<iframe src="display1.html"></iframe>
<iframe src="display2.html"></iframe>
<iframe src="display3.html"></iframe>

<video id="myVideo" autoplay muted playsinline></video>

<iframe src="display4.html"></iframe>
<iframe src="display5.html"></iframe>

<script>
// تشغيل الفيديوهات المتتالية
const videoList = ["video1.mp4","video2.mp4","video3.mp4"];
let currentVideo = 0;
const videoElement = document.getElementById("myVideo");
function playNextVideo(){videoElement.src=videoList[currentVideo];videoElement.play();currentVideo=(currentVideo+1)%videoList.length;}
videoElement.addEventListener("ended",playNextVideo);
playNextVideo();

// الإعلان الصوتي
function announceNumber(number,office){
    let msg = new SpeechSynthesisUtterance(`الرقم ${number} يتوجه إلى مكتب ${office}`);
    msg.lang='ar-EG';
    speechSynthesis.speak(msg);
}

// استقبال الرسائل من الكنترول
window.addEventListener("message",(event)=>{
    const data = event.data;
    if(data.number && data.office){
        announceNumber(data.number,data.office);
        console.log(`الرقم ${data.number} → مكتب ${data.office}`);
    }
});
</script>
</body>
</html>
